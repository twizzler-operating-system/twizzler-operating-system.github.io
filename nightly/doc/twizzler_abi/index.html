<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="This library provides a common interface for applications that want to talk to the Twizzler kernel, and defines that interface for both applications and the kernel to follow. It’s made of several parts:"><meta name="keywords" content="rust, rustlang, rust-lang, twizzler_abi"><title>twizzler_abi - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceSerif4-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../FiraSans-Regular.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../FiraSans-Medium.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceCodePro-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceSerif4-Bold.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceCodePro-Semibold.ttf.woff2"><link rel="stylesheet" href="../normalize.css"><link rel="stylesheet" href="../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" href="../ayu.css" disabled><link rel="stylesheet" href="../dark.css" disabled><link rel="stylesheet" href="../light.css" id="themeStyle"><script id="default-settings" ></script><script src="../storage.js"></script><script defer src="../crates.js"></script><script defer src="../main.js"></script><noscript><link rel="stylesheet" href="../noscript.css"></noscript><link rel="alternate icon" type="image/png" href="../favicon-16x16.png"><link rel="alternate icon" type="image/png" href="../favicon-32x32.png"><link rel="icon" type="image/svg+xml" href="../favicon.svg"></head><body class="rustdoc mod crate"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="sidebar-logo" href="../twizzler_abi/index.html"><div class="logo-container"><img class="rust-logo" src="../rust-logo.svg" alt="logo"></div></a><h2 class="location"></h2></nav><nav class="sidebar"><a class="sidebar-logo" href="../twizzler_abi/index.html"><div class="logo-container"><img class="rust-logo" src="../rust-logo.svg" alt="logo"></div></a><h2 class="location"><a href="#">Crate twizzler_abi</a></h2><div class="sidebar-elems"><div class="block"><ul><li class="version">Version 0.1.0</li><li><a id="all-types" href="all.html">All Items</a></li></ul></div><section><div class="block"><ul><li><a href="#modules">Modules</a></li><li><a href="#functions">Functions</a></li></ul></div></section></div></nav><main><div class="width-limiter"><div class="sub-container"><a class="sub-logo-container" href="../twizzler_abi/index.html"><img class="rust-logo" src="../rust-logo.svg" alt="logo"></a><nav class="sub"><form class="search-form"><div class="search-container"><span></span><input class="search-input" name="search" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><button type="button">?</button></div><div id="settings-menu" tabindex="-1"><a href="../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../wheel.svg"></a></div></div></form></nav></div><section id="main-content" class="content"><div class="main-heading"><h1 class="fqn"><span class="in-band">Crate <a class="mod" href="#">twizzler_abi</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../clipboard.svg" width="19" height="18" alt="Copy item path"></button></span></h1><span class="out-of-band"><a class="srclink" href="../src/twizzler_abi/lib.rs.html#1-106">source</a> · <a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span></div><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>This library provides a common interface for applications that want to talk to the Twizzler
kernel, and defines that interface for both applications and the kernel to follow. It’s made of
several parts:</p>
<ol>
<li>The Runtime – see <a href="rt1/index.html" title="rt1">rt1</a>, <a href="aux/index.html" title="aux">aux</a>, and <a href="exec/index.html" title="exec">exec</a></li>
<li>System Calls – see <a href="syscall/index.html" title="syscall">syscall</a> and <a href="arch/syscall/index.html" title="arch::syscall">arch::syscall</a></li>
<li>The rest, acting as support for the rust standard library.</li>
</ol>
<h2 id="should-i-use-these-apis"><a href="#should-i-use-these-apis">Should I use these APIs?</a></h2>
<p>All of these interfaces are potentially unstable and should not be used directly by most
programs. Instead, the twizzler crate can be used to access standard Twizzler object APIs, and
the rust standard library should be used for general rust programming. Both of these wrap calls
to this library in better, more easily consumed APIs.</p>
</div></details><h2 id="modules" class="small-section-header"><a href="#modules">Modules</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="mod" href="alloc/index.html" title="twizzler_abi::alloc mod">alloc</a></div><div class="item-right docblock-short">Global allocation. Used by the Rust standard library as the global allocator. Similar to
malloc() and friends.</div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="arch/index.html" title="twizzler_abi::arch mod">arch</a></div><div class="item-right docblock-short">Architecture-dependent code, will include submodules for the appropriate arch that expose the
_start symbol and the raw_syscall symbol.</div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="aux/index.html" title="twizzler_abi::aux mod">aux</a></div><div class="item-right docblock-short">When running a new program (and thus, initializing a new runtime), the new program expects to
receive some information about how it was started, including arguments, env vars, etc. These are
passed to the new program through the _start function as an array of AuxEntries as its only argument.</div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="device/index.html" title="twizzler_abi::device mod">device</a></div><div class="item-right docblock-short">APIs for accessing the device tree and device representation objects.</div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="exec/index.html" title="twizzler_abi::exec mod">exec</a></div><div class="item-right docblock-short">Some runtime-available executable information. Mostly used for backtracing.</div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="kso/index.html" title="twizzler_abi::kso mod">kso</a></div><div class="item-right docblock-short">Functions to deal with Kernel State Objects (KSOs). These are objects created by the kernel to
describe the running state of the system and expose device memory to userspace.</div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="load_elf/index.html" title="twizzler_abi::load_elf mod">load_elf</a></div><div class="item-right docblock-short">Functions to start new executable programs.</div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="marker/index.html" title="twizzler_abi::marker mod">marker</a></div><div class="item-right docblock-short">Marker traits used to indicate safety for storing data in objects and using a struct as a base type.</div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="meta/index.html" title="twizzler_abi::meta mod">meta</a></div><div class="item-right docblock-short">Types that make up object metadata.</div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="object/index.html" title="twizzler_abi::object mod">object</a></div><div class="item-right docblock-short">Low-level object APIs, mostly around IDs and basic things like protection definitions and metadata.</div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="rt1/index.html" title="twizzler_abi::rt1 mod">rt1</a></div><div class="item-right docblock-short">Runtime functions for Twizzler userspace. This part of the code is a bit arcane and somewhat
tricky, so buckle up.</div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="simple_mutex/index.html" title="twizzler_abi::simple_mutex mod">simple_mutex</a></div><div class="item-right docblock-short">Very simple and unsafe Mutex for internal locking needs. DO NOT USE, USE THE RUST STANDARD
LIBRARY MUTEX INSTEAD.</div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="slot/index.html" title="twizzler_abi::slot mod">slot</a></div><div class="item-right docblock-short">Manage slots in the address space. Currently not finished.</div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="syscall/index.html" title="twizzler_abi::syscall mod">syscall</a></div><div class="item-right docblock-short">Wrapper functions around for raw_syscall, providing a typed and safer way to interact with the kernel.</div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="thread/index.html" title="twizzler_abi::thread mod">thread</a></div><div class="item-right docblock-short">Functions for manipulating threads.</div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="time/index.html" title="twizzler_abi::time mod">time</a></div><div class="item-right docblock-short">Raw time handling, provides a way to get a monotonic timer and the system time. You should use
the rust standard library’s time functions instead of these directly.</div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="upcall/index.html" title="twizzler_abi::upcall mod">upcall</a></div><div class="item-right docblock-short">Functions for handling upcalls from the kernel.</div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="vcell/index.html" title="twizzler_abi::vcell mod">vcell</a></div><div class="item-right docblock-short">Simple support for volatile memory access.</div></div></div><h2 id="functions" class="small-section-header"><a href="#functions">Functions</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.ready.html" title="twizzler_abi::ready fn">ready</a></div><div class="item-right docblock-short">Simple callback into twizzler_abi made by the standard library once it has initialized the
environment. No panic runtime is available yet.</div></div></div></section></div></main><div id="rustdoc-vars" data-root-path="../" data-current-crate="twizzler_abi" data-themes="ayu,dark,light" data-resource-suffix="" data-rustdoc-version="1.66.0-dev" ></div></body></html>